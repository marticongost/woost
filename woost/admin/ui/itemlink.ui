<?xml version="1.0" encoding="utf-8"?>

<span
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:ui="http://www.whads.com/ns/cocktail/ui"
    role="link">

    <ui:using mixin="cocktail.ui.DataDisplay"/>
    <ui:using mixin="woost.admin.ui.ObjectSource"/>

    <ui:property
        name="empty"
        type="boolean"
        reflected="true"
        default="true"/>

    <?class
    activate() {
        cocktail.navigation.extendPath(this.value.id);
    }

    invalidation(change) {
        if (change.type == "modify") {
            this.value = change.newState;
        }
    }
    ?>

    <?on click
    this.activate();
    e.stopPropagation();
    ?>

    <?on value:changed
    if (newValue) {
        this.empty = false;
        this.label.innerHTML = this.translateValue();
    }
    else {
        this.empty = true;
        this.label.innerHTML = "";
    }
    ?>

    <span id="label"/>

</span>

